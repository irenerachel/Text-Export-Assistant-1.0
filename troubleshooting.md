# 文本导出助手故障排除指南

## 🔧 常见问题及解决方案

### 问题1：复制文本后插件无法提取文本

**症状：** 复制文本后打开插件，显示"无法自动读取剪贴板"或空白内容。

**可能原因：**
1. 浏览器安全限制阻止剪贴板访问
2. 插件权限不足
3. 内容脚本未正确加载
4. 存储机制失效

**解决方案：**

#### 方案A：重新安装插件
1. 打开Chrome扩展管理页面：`chrome://extensions/`
2. 找到"文本导出助手"，点击"删除"
3. 重新加载插件文件夹
4. 确保插件已启用

#### 方案B：检查权限设置
1. 在扩展管理页面点击"文本导出助手"的"详情"
2. 确保以下权限已启用：
   - 读取和更改您访问的网站上的数据
   - 读取剪贴板
   - 访问文件网址
3. 如果权限被禁用，请重新启用

#### 方案C：使用手动输入功能
1. 打开插件后，点击"📝 点击手动输入/粘贴文本"
2. 在文本框中粘贴您的文本
3. 点击"✅ 使用此文本"

#### 方案D：检查浏览器设置
1. 确保在HTTPS网站或localhost上测试
2. 某些网站可能阻止剪贴板访问
3. 尝试在Chrome的隐私模式下测试

### 问题2：刷新后没有作用

**症状：** 点击刷新按钮后，插件仍然无法读取文本。

**解决方案：**

#### 方案A：清除浏览器缓存
1. 按 `Ctrl+Shift+Delete` (Windows) 或 `Cmd+Shift+Delete` (Mac)
2. 选择"缓存的图片和文件"
3. 点击"清除数据"
4. 重新测试插件

#### 方案B：检查控制台错误
1. 右键点击插件弹窗，选择"检查"
2. 查看Console标签页是否有错误信息
3. 根据错误信息进行相应修复

#### 方案C：使用测试页面
1. 打开项目中的 `test.html` 文件
2. 使用测试页面的快速复制按钮
3. 验证插件功能是否正常

### 问题3：导出功能不工作

**症状：** 文本已加载，但点击导出按钮没有反应。

**解决方案：**

#### 方案A：检查文件下载设置
1. 确保浏览器允许下载文件
2. 检查下载文件夹是否有写入权限
3. 尝试更改下载文件夹位置

#### 方案B：检查文件格式支持
1. 某些格式（如PDF）需要特殊处理
2. 尝试导出为TXT格式测试基本功能
3. 查看控制台是否有格式相关错误

### 问题4：图片导出效果不理想

**症状：** 图片导出后尺寸过大、字体过小或布局不美观。

**解决方案：**

#### 方案A：了解自适应功能
文本导出助手具有智能自适应功能：
- **超短文本**（<50字符）：800px宽度，36px字体，紧凑布局
- **短文本**（50-150字符）：900px宽度，32px字体，适中布局
- **中等文本**（150-300字符）：1000px宽度，26px字体，标准布局
- **较长文本**（300-600字符）：1100px宽度，22px字体，宽松布局
- **长文本**（>600字符）：1200px宽度，18px字体，宽松布局

#### 方案B：使用测试页面验证
1. 打开 `image_test.html` 文件
2. 使用不同长度的测试文本
3. 对比导出效果是否符合预期

#### 方案C：优化文本长度
- 对于短文本，可以适当增加内容以获得更好的视觉效果
- 对于长文本，可以考虑分段导出

#### 方案D：检查图片质量设置
- 短文本使用较低分辨率（2x）以减小文件大小
- 长文本使用高分辨率（3x）以保证清晰度
- 质量设置根据文本长度自动调整

### 问题5：插件图标不显示

**症状：** 插件已安装但工具栏中没有图标。

**解决方案：**

#### 方案A：显示插件图标
1. 点击Chrome工具栏的扩展图标（拼图图标）
2. 找到"文本导出助手"
3. 点击图钉图标固定到工具栏

#### 方案B：检查插件状态
1. 访问 `chrome://extensions/`
2. 确保插件已启用（开关为蓝色）
3. 如果显示错误，点击"重新加载"

### 问题6：在特定网站上不工作

**症状：** 在某些网站上插件无法正常工作。

**可能原因：**
1. 网站的内容安全策略(CSP)限制
2. 网站使用了特殊的复制保护
3. 网站阻止了扩展脚本执行

**解决方案：**

#### 方案A：使用手动输入
1. 手动选择并复制文本
2. 在插件中使用手动输入功能
3. 粘贴文本内容

#### 方案B：检查网站兼容性
1. 尝试在简单的HTML页面上测试
2. 使用项目提供的测试页面验证功能
3. 报告不兼容的网站

## 🛠️ 高级故障排除

### 查看详细日志
1. 打开插件弹窗
2. 右键点击，选择"检查"
3. 在Console中查看详细日志信息
4. 根据日志信息定位问题

### 重置插件数据
1. 访问 `chrome://extensions/`
2. 找到"文本导出助手"
3. 点击"详情" → "清除数据"
4. 重新测试插件

### 检查浏览器版本
- 确保使用Chrome 88或更高版本
- 某些功能在旧版本浏览器中可能不可用

## 📞 获取帮助

如果以上解决方案都无法解决问题，请：

1. **收集错误信息：**
   - 打开插件控制台（右键插件弹窗 → 检查）
   - 复制所有错误信息
   - 记录问题发生的具体步骤

2. **提供环境信息：**
   - 浏览器版本
   - 操作系统版本
   - 插件版本
   - 问题发生的网站URL

3. **联系支持：**
   - 提供详细的错误描述
   - 附上错误截图
   - 说明已尝试的解决方案

## 🔄 插件更新

定期检查插件更新：
1. 访问 `chrome://extensions/`
2. 查看是否有更新可用
3. 点击"更新"按钮获取最新版本

## 📋 测试清单

在报告问题前，请确认：

- [ ] 插件已正确安装并启用
- [ ] 所有必要权限已授予
- [ ] 在测试页面上功能正常
- [ ] 浏览器版本符合要求
- [ ] 已尝试清除缓存和重新安装
- [ ] 已查看控制台错误信息

---

**注意：** 本插件需要现代浏览器的剪贴板API支持。在某些受限环境中（如企业网络、学校网络），可能无法正常工作。 