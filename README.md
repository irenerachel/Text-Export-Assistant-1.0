# 文本导出助手

一个功能强大的Chrome扩展，可以将复制的文本内容导出为多种文件格式，特别优化了图片导出的自适应功能。

## ✨ 主要功能

### 📋 文本获取
- 自动读取剪贴板内容
- 支持手动输入/粘贴
- 智能恢复最近复制的文本
- 从当前页面获取选中文本

### 🖼️ 图片导出自适应功能（新特性）

文本导出助手具有智能自适应功能，根据文本长度自动调整图片参数：

| 文本长度 | 图片宽度 | 字体大小 | 分辨率 | 布局特点 | 适用场景 |
|---------|---------|---------|--------|---------|---------|
| < 50字符 | 800px | 36px | 2x | 紧凑，大字体 | 短句、标题 |
| 50-150字符 | 900px | 32px | 2.5x | 适中，大字体 | 短段落 |
| 150-300字符 | 1000px | 26px | 3x | 标准，中等字体 | 中等段落 |
| 300-600字符 | 1100px | 22px | 3x | 宽松，标准字体 | 长段落 |
| > 600字符 | 1200px | 18px | 3x | 宽松，小字体 | 长文档 |

### 📁 支持格式
- **TXT** - 纯文本文件
- **PDF** - 便携式文档格式
- **Word** - Microsoft Word文档
- **Excel** - 电子表格格式
- **JPG** - 压缩图片格式
- **PNG** - 无损图片格式
- **JSON** - 结构化数据格式
- **HTML** - 网页格式
- **MD** - Markdown格式

## 🚀 快速开始

### 安装步骤
1. 下载插件文件夹
2. 打开Chrome扩展管理页面：`chrome://extensions/`
3. 启用"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择插件文件夹

### 使用方法
1. 复制任意文本内容
2. 点击浏览器工具栏中的插件图标
3. 选择导出格式
4. 文件将自动下载到默认下载文件夹

## 🖼️ 图片导出使用指南

### 最佳实践
1. **短文本**（<50字符）：适合导出为图片，字体大，视觉效果佳
2. **中等文本**（50-300字符）：平衡了可读性和文件大小
3. **长文本**（>300字符）：建议分段导出或使用其他格式

### 测试自适应功能
1. 打开 `image_test.html` 文件
2. 点击不同长度的测试文本
3. 导出为JPG或PNG格式
4. 观察自适应效果

### 图片质量说明
- **短文本**：使用较低分辨率（2x）减小文件大小
- **长文本**：使用高分辨率（3x）保证清晰度
- **质量设置**：根据文本长度自动调整（0.9-0.98）

## 🛠️ 故障排除

### 常见问题
1. **无法读取剪贴板**：使用手动输入功能
2. **刷新无效**：清除浏览器缓存
3. **图片效果不理想**：参考自适应功能说明
4. **插件不工作**：检查权限设置

### 详细解决方案
请参考 `troubleshooting.md` 文件获取完整的故障排除指南。

## 📁 文件说明

- `manifest.json` - 插件配置文件
- `popup.html` - 主界面
- `popup.js` - 主要功能逻辑
- `content.js` - 内容脚本
- `background.js` - 后台脚本
- `test.html` - 基础功能测试页面
- `image_test.html` - 图片导出自适应测试页面
- `troubleshooting.md` - 故障排除指南
- `fix_clipboard.js` - 剪贴板修复脚本

## 🔧 技术特性

### 自适应算法
- 基于文本长度和行数的智能分析
- 动态调整图片尺寸、字体大小和布局
- 优化文件大小和视觉效果

### 多格式支持
- 使用原生浏览器API
- 无需外部依赖
- 支持中文和特殊字符

### 用户体验
- 直观的界面设计
- 实时状态反馈
- 智能错误处理

## 📊 性能优化

### 图片导出优化
- 根据文本长度选择合适的分辨率
- 动态调整图片质量
- 优化文件大小

### 内存管理
- 及时清理临时对象
- 优化Canvas使用
- 减少内存泄漏

## 🤝 贡献

欢迎提交问题报告和改进建议！

## 📄 许可证

本项目采用MIT许可证。

---

**注意**：本插件需要现代浏览器的剪贴板API支持。在某些受限环境中可能无法正常工作。 